# What Is Cloud?

## 云技术（Cloud Technology）
```md
英译：cloud；cloud computing；cloud computer；cloud-based
是网络、互联网的一种比喻说法
	是指你作为接受服务的对象，是云端，不管你在何时何地，都能享受云计算提供的服务
云可以是广域网或者某个局域网内硬件、软件、网络等一系列资源统一在一起的一个综合称呼
```
```md
云计算是从技术角度出发的
云服务是从应用角度出发的，是云计算服务的简称
有了云计算才有云服务，云计算是基础，服务是产品价值的体现
```

## 演进
### 物理设备的缺点
```md
人工运维
		如果你在一台服务器上安装软件，把系统安装坏了，怎么办？只有重装
		当你想配置一下交换机的参数，需要串口连上去进行配置
		当你想增加一块磁盘，总要买一块插进服务器
	这些都需要人工来，而且很大可能要求进机房。
```
```md
浪费资源
	其实你只想部署一个小小的网站，却要用128G的内存
		混着部署吧，就有隔离性的问题
```
```md
隔离性差
	好多的应用部署在同一台物理机上
		它们之间争抢资源
		一个弄挂了内核，另一个也同时挂了
		如果部署两个相同的应用，端口还会冲突
```
### 虚拟化
```md
物理机变为虚拟机
	cpu是虚拟的，内存是虚拟的
物理交换机变为虚拟交换机
	网卡是虚拟的，交换机是虚拟的，带宽也是虚拟的
物理存储变成虚拟存储
	多块硬盘虚拟成一个存储池，从中虚拟出多块小硬盘
```
```md
优势
	虚拟机的创建和删除都可以远程操作 虚拟网络的配置也可以远程操作，创建网卡，分配带宽都是调用接口就能搞定的
	虚拟化了以后，资源可以分配的很小很小
	每个虚拟机有独立的cpu, 内存，硬盘，网卡，不同虚拟机的应用互不干扰
```
```md
VMware 领跑者是VMware，可以实现基本的计算，网络，存储的虚拟化
Xen 在开源虚拟化方面，Citrix的Xen做的不错
KVM 后来Redhat在KVM发力不少
```
```md
对于网络虚拟化 有Open vSwitch，可以通过命令创建网桥，网卡，设置VLAN，设置带宽
对于存储虚拟化 对于本地盘，有LVM，可以将多个硬盘变成一大块盘，然后在里面切出一小块给用户
```
```md
缺点
	通过虚拟化软件创建虚拟机 需要人工指定放在哪台机器上，硬盘放在哪个存储设备上 网络的VLAN ID，带宽具体的配置，都需要人工指定
	所以单单使用虚拟化的运维工程师往往有一个Excel表格，有多少台机器，每台机器部署了哪些虚拟机，
    所以，一般虚拟化的集群数目都不是特别的大。
```
### 池化
```md
也就是说虚拟化已经将资源分的很细了，但是对于如此细粒度的资源靠Excel去管理，成本太高
能不能打成一个大的池，当需要资源的时候，帮助用户自动的选择，而非用户指定
```
```md
Scheduler
	于是VMware有了自己的vCloud
	于是基于Xen和KVM的私有云平台CloudStack，后来Citrix将其收购后开源
```
### 公有云
```md
当这些私有云平台在用户的数据中心里面卖的其贵无比，赚的盆满钵满的时候
有其他的公司开始了另外的选择，这就是AWS和Google，开始了公有云领域的探索。
```
```md
AWS
	最初就是基于Xen技术进行虚拟化的，并且最终形成了公有云平台。
	也许AWS最初只是不想让自己的电商领域的利润全部交给私有云厂商吧
		于是自己的云平台首先支撑起了自己的业务
	在这个过程中，AWS自己严肃的使用了自己的云计算平台
		使得公有云平台不是对于资源的配置更加友好，而是对于应用的部署更加友好，最终大放异彩
```
```md
Rackspace
		公有云的第一名AWS活的很爽，第二名Rackspace就不太爽了
		开源是很好的办法，让整个行业大家一起为这个云平台出力，兄弟们，大家一起上
		于是Rackspace与美国航空航天局（NASA）合作创始了开源云平台OpenStack
	OpenStack
		OpenStack现在发展的和AWS有点像了
			所以从OpenStack的模块组成，可以看到云计算池化的方法。
		有了OpenStack
			所有的IT厂商的巨头，全部加入到社区里面来
				将OpenStack开发为自己的产品，连同硬件设备一起，杀入私有云市场。
```
```md
随着公有云和基于OpenStack的私有云越来越成熟
	构造一个成千上万个物理节点的云平台以及不是问题
而且很多云厂商都会采取多个数据中心部署多套云平台，总的规模数量就更加大了
	在这个规模下，对于客户感知来说，基本上可以实现想什么时候要什么时候要，想要多少要多少
```
### IaaS
```md
云计算解决了基础资源层的弹性伸缩
	却没有解决应用随基础资源层弹性伸缩而带来的批量、快速部署问题
仅仅有IaaS实现资源的弹性是不够的
```
### PaaS
```md
主要用于管理应用层
	一部分是你自己的应用应当自动部署
	另一部分是你觉得复杂的通用应用不用部署
要么就是自动部署，要么就是不用部署，总的来说就是应用层你也少操心，就是PaaS的作用
当然最好还是都不用去部署，一键可得
	所以公有云平台将通用的服务都做成了PaaS平台
```
```md
问题
	就是无论Puppet、 Chef、Ansible把安装脚本抽象的再好
		说到底也是基于脚本的，然而应用所在的环境千差万别
		文件路径的差别，文件权限的差别，依赖包的差别，应用环境的差别，Tomcat、 PHP、 Apache等软件版本的差别
		JDK、Python等版本的差别，是否安装了一些系统软件，是否占用了哪些端口，都可能造成脚本执行的不成功。
	所以看起来是一旦脚本写好，就能够快速复制了
		但是环境稍有改变，就需要把脚本进行新一轮的修改、测试、联调。
		例如在数据中心写好的脚本移到AWS上就不一定直接能用
			在AWS上联调好了，迁移到Google Cloud上也可能会再出问题。
```
### 容器
```md
思想就是要变成软件交付的集装箱，集装箱的特点，一是打包，二是标准
```
```md
封闭的环境主要使用了两种技术
一种是看起来是隔离的技术，称为namespace，也即每个namespace中的应用看到的是不同的IP地址、用户空间、进程号等
另一种是用起来是隔离的技术，称为cgroup，也即明明整台机器有很多的CPU、内存，而一个应用只能用其中的一部分。
```
```md
镜像
如何将这个集装箱标准化，从而在哪艘船上都能运输，这里的标准一个是镜像，一个是容器的运行环境。
所谓的镜像，就是将你焊好集装箱的那个时刻，将集装箱的状态保存下来
就像孙悟空说定，集装箱里面就定在了那一刻，然后将这一刻的状态保存成一系列文件
这些文件的格式是标准的，谁看到这些文件，都能还原当时定住的那个时刻。
将镜像还原成运行时的过程（就是读取镜像文件，还原那个时刻的过程）就是容器的运行的过程。
```
### 弹性云
```md
有了容器，云计算才真正实现了应用层和资源层的完全弹性。
```
```md
弹性 俗话说就是灵活性
    时间灵活性 想什么时候要就什么时候要
	空间灵活性 想要多少就要多少
```
## VS 大数据
```md
在云计算的发展过程中，云计算逐渐发现自己除了资源层面的管理，还能够进行应用层面的管理
大数据人员想起来想要多少要多少，想什么时候要什么时候要的云平台
	空间的灵活性让大数据使用者随时能够创建一大批机器来计算
	而时间的灵活性可以保证整个云平台的资源
		不同的租户你用完了我用，我用完了他用，大家都不浪费资源
于是很多人会利用公有云或者私有云平台部署大数据集群
	但是完成集群的部署还是有难度的，云计算的人员想，既然大家都需要
		那我就把他集成在我的云计算平台里面
	当大家需要一个大数据平台的时候，无论是Nutch, Kafka，hadoop，ElasticSearch等
		我能够马上给你部署出来一套。我们管这个叫做PaaS平台。
	大数据平台于是作为PaaS融入了云计算的大家庭
而大数据应用作为越来越重要的应用之一
	云计算也可以放入PaaS层管理起来，而大数据也发现自己越来越需要大量的计算资源
	而且想什么时候要就什么时候要，想要多少就要多少
		于是两者相遇，相识，相知，走在了一起。
```
## VS 人工智能
```md
神经网络包含这么多的节点
	每个节点包含非常多的参数，整个参数量实在是太大了
		需要的计算量实在太大
没有关系啊，我们有大数据平台
	可以汇聚多台机器的力量一起来计算，才能在有限的时间内得到想要的结果
于是工智能程序作为SaaS平台进入了云计算
```

## Reference
* [云计算，大数据，人工智能三者有何关系？](http://cloud.idcquan.com/yjs/115806.shtml)
